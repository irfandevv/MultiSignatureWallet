{"id":"9ZMl","dependencies":[{"name":"/home/nick/github/multisignaturewallet/package.json","includedInParent":true,"mtime":1557933890204},{"name":"ethers","loc":{"line":1,"column":26},"parent":"/home/nick/github/multisignaturewallet/scripts/eth_sign.js","resolved":"/home/nick/github/multisignaturewallet/node_modules/ethers/dist/ethers.min.js"}],"generated":{"js":"var e=require(\"ethers\"),r=e.utils,n=\"0x87b2d4b93731813f851f44e4a8e98e8e6e3680cc98081ea0c5c4ba4f6948c5a6\",t=r.keccak256(r.solidityPack([\"string\",\"bytes32\"],[\"\u0019Ethereum Signed Message:\\n32\",n])),s=r.keccak256(r.solidityPack([\"string\",\"bytes32\"],[\"\u0019Ethereum Signed Message:\\n64\",n])),o=r.keccak256(r.solidityPack([\"string\",\"bytes32\"],[\"\u0019Ethereum Signed Message:\\n66\",n]));void 0!==window.web3&&(window.ethereum.enable(),web3.currentProvider.sendAsync({method:\"eth_accounts\",params:[]},function(e,i){if(e)return console.error(e);var a=i.result[0];web3.currentProvider.sendAsync({method:\"personal_sign\",params:[a,n]},function(e,i){document.body.innerHTML=\"\\n        Supports Vanilla Signing (No Prefix): <br />\\n        \".concat(String(a).toLowerCase()===String(r.recoverAddress(n,i.result)).toLowerCase(),\"  <br /> <br />\\n\\n        Supports Prefix (Byte Length): <br />\\n        \").concat(String(a).toLowerCase()===String(r.recoverAddress(t,i.result)).toLowerCase(),\"  <br /> <br />\\n\\n        Supports Prefix (JS Length): <br />\\n        \").concat(String(a).toLowerCase()===String(r.recoverAddress(s,i.result)).toLowerCase(),\"  <br /> <br />\\n\\n        Supports Prefix (JS Length 2): <br />\\n        \").concat(String(a).toLowerCase()===String(r.recoverAddress(o,i.result)).toLowerCase(),\"  <br /> <br />\\n      \")})}));","map":{"mappings":[{"source":"eth_sign.js","name":"require","original":{"line":1,"column":18},"generated":{"line":1,"column":0}},{"source":"eth_sign.js","name":"require","original":{"line":1,"column":18},"generated":{"line":1,"column":4}},{"source":"eth_sign.js","name":"require","original":{"line":1,"column":18},"generated":{"line":1,"column":6}},{"source":"eth_sign.js","original":{"line":1,"column":26},"generated":{"line":1,"column":14}},{"source":"eth_sign.js","name":"utils","original":{"line":1,"column":8},"generated":{"line":1,"column":24}},{"source":"eth_sign.js","name":"utils","original":{"line":1,"column":8},"generated":{"line":1,"column":26}},{"source":"eth_sign.js","name":"utils","original":{"line":1,"column":8},"generated":{"line":1,"column":28}},{"source":"eth_sign.js","name":"hash","original":{"line":3,"column":6},"generated":{"line":1,"column":34}},{"source":"eth_sign.js","original":{"line":3,"column":13},"generated":{"line":1,"column":36}},{"source":"eth_sign.js","name":"hashWithPrefix","original":{"line":4,"column":6},"generated":{"line":1,"column":105}},{"source":"eth_sign.js","name":"utils","original":{"line":4,"column":23},"generated":{"line":1,"column":107}},{"source":"eth_sign.js","name":"keccak256","original":{"line":4,"column":29},"generated":{"line":1,"column":109}},{"source":"eth_sign.js","name":"utils","original":{"line":4,"column":39},"generated":{"line":1,"column":119}},{"source":"eth_sign.js","name":"solidityPack","original":{"line":4,"column":45},"generated":{"line":1,"column":121}},{"source":"eth_sign.js","original":{"line":4,"column":58},"generated":{"line":1,"column":134}},{"source":"eth_sign.js","original":{"line":5,"column":2},"generated":{"line":1,"column":135}},{"source":"eth_sign.js","original":{"line":5,"column":12},"generated":{"line":1,"column":144}},{"source":"eth_sign.js","original":{"line":6,"column":3},"generated":{"line":1,"column":155}},{"source":"eth_sign.js","original":{"line":7,"column":2},"generated":{"line":1,"column":156}},{"source":"eth_sign.js","name":"hash","original":{"line":7,"column":38},"generated":{"line":1,"column":188}},{"source":"eth_sign.js","name":"hashWithInvalidLengthPrefix","original":{"line":9,"column":6},"generated":{"line":1,"column":193}},{"source":"eth_sign.js","name":"utils","original":{"line":9,"column":36},"generated":{"line":1,"column":195}},{"source":"eth_sign.js","name":"keccak256","original":{"line":9,"column":42},"generated":{"line":1,"column":197}},{"source":"eth_sign.js","name":"utils","original":{"line":9,"column":52},"generated":{"line":1,"column":207}},{"source":"eth_sign.js","name":"solidityPack","original":{"line":9,"column":58},"generated":{"line":1,"column":209}},{"source":"eth_sign.js","original":{"line":9,"column":71},"generated":{"line":1,"column":222}},{"source":"eth_sign.js","original":{"line":10,"column":2},"generated":{"line":1,"column":223}},{"source":"eth_sign.js","original":{"line":10,"column":12},"generated":{"line":1,"column":232}},{"source":"eth_sign.js","original":{"line":11,"column":3},"generated":{"line":1,"column":243}},{"source":"eth_sign.js","original":{"line":12,"column":2},"generated":{"line":1,"column":244}},{"source":"eth_sign.js","name":"hash","original":{"line":12,"column":38},"generated":{"line":1,"column":276}},{"source":"eth_sign.js","name":"hashWithInvalidLength2Prefix","original":{"line":14,"column":6},"generated":{"line":1,"column":281}},{"source":"eth_sign.js","name":"utils","original":{"line":14,"column":37},"generated":{"line":1,"column":283}},{"source":"eth_sign.js","name":"keccak256","original":{"line":14,"column":43},"generated":{"line":1,"column":285}},{"source":"eth_sign.js","name":"utils","original":{"line":14,"column":53},"generated":{"line":1,"column":295}},{"source":"eth_sign.js","name":"solidityPack","original":{"line":14,"column":59},"generated":{"line":1,"column":297}},{"source":"eth_sign.js","original":{"line":14,"column":72},"generated":{"line":1,"column":310}},{"source":"eth_sign.js","original":{"line":15,"column":2},"generated":{"line":1,"column":311}},{"source":"eth_sign.js","original":{"line":15,"column":12},"generated":{"line":1,"column":320}},{"source":"eth_sign.js","original":{"line":16,"column":3},"generated":{"line":1,"column":331}},{"source":"eth_sign.js","original":{"line":17,"column":2},"generated":{"line":1,"column":332}},{"source":"eth_sign.js","name":"hash","original":{"line":17,"column":38},"generated":{"line":1,"column":364}},{"source":"eth_sign.js","original":{"line":21,"column":27},"generated":{"line":1,"column":374}},{"source":"eth_sign.js","name":"window","original":{"line":21,"column":11},"generated":{"line":1,"column":378}},{"source":"eth_sign.js","name":"web3","original":{"line":21,"column":18},"generated":{"line":1,"column":385}},{"source":"eth_sign.js","name":"window","original":{"line":24,"column":2},"generated":{"line":1,"column":392}},{"source":"eth_sign.js","name":"ethereum","original":{"line":24,"column":9},"generated":{"line":1,"column":399}},{"source":"eth_sign.js","name":"enable","original":{"line":24,"column":18},"generated":{"line":1,"column":408}},{"source":"eth_sign.js","name":"web3","original":{"line":27,"column":2},"generated":{"line":1,"column":417}},{"source":"eth_sign.js","name":"currentProvider","original":{"line":27,"column":7},"generated":{"line":1,"column":422}},{"source":"eth_sign.js","name":"sendAsync","original":{"line":27,"column":23},"generated":{"line":1,"column":438}},{"source":"eth_sign.js","original":{"line":27,"column":33},"generated":{"line":1,"column":448}},{"source":"eth_sign.js","name":"method","original":{"line":27,"column":35},"generated":{"line":1,"column":449}},{"source":"eth_sign.js","original":{"line":27,"column":43},"generated":{"line":1,"column":456}},{"source":"eth_sign.js","name":"params","original":{"line":27,"column":59},"generated":{"line":1,"column":471}},{"source":"eth_sign.js","original":{"line":27,"column":67},"generated":{"line":1,"column":478}},{"source":"eth_sign.js","original":{"line":27,"column":73},"generated":{"line":1,"column":482}},{"source":"eth_sign.js","name":"err","original":{"line":27,"column":74},"generated":{"line":1,"column":491}},{"source":"eth_sign.js","name":"accountResult","original":{"line":27,"column":79},"generated":{"line":1,"column":493}},{"source":"eth_sign.js","name":"err","original":{"line":28,"column":8},"generated":{"line":1,"column":496}},{"source":"eth_sign.js","name":"err","original":{"line":28,"column":8},"generated":{"line":1,"column":499}},{"source":"eth_sign.js","original":{"line":28,"column":13},"generated":{"line":1,"column":501}},{"source":"eth_sign.js","name":"console","original":{"line":28,"column":20},"generated":{"line":1,"column":508}},{"source":"eth_sign.js","name":"error","original":{"line":28,"column":28},"generated":{"line":1,"column":516}},{"source":"eth_sign.js","name":"err","original":{"line":28,"column":34},"generated":{"line":1,"column":522}},{"source":"eth_sign.js","name":"signerAddress","original":{"line":30,"column":10},"generated":{"line":1,"column":525}},{"source":"eth_sign.js","name":"signerAddress","original":{"line":30,"column":10},"generated":{"line":1,"column":529}},{"source":"eth_sign.js","name":"accountResult","original":{"line":30,"column":26},"generated":{"line":1,"column":531}},{"source":"eth_sign.js","name":"result","original":{"line":30,"column":40},"generated":{"line":1,"column":533}},{"source":"eth_sign.js","original":{"line":30,"column":47},"generated":{"line":1,"column":540}},{"source":"eth_sign.js","name":"web3","original":{"line":32,"column":4},"generated":{"line":1,"column":543}},{"source":"eth_sign.js","name":"currentProvider","original":{"line":32,"column":9},"generated":{"line":1,"column":548}},{"source":"eth_sign.js","name":"sendAsync","original":{"line":32,"column":25},"generated":{"line":1,"column":564}},{"source":"eth_sign.js","original":{"line":32,"column":35},"generated":{"line":1,"column":574}},{"source":"eth_sign.js","name":"method","original":{"line":33,"column":6},"generated":{"line":1,"column":575}},{"source":"eth_sign.js","original":{"line":33,"column":14},"generated":{"line":1,"column":582}},{"source":"eth_sign.js","name":"params","original":{"line":34,"column":6},"generated":{"line":1,"column":598}},{"source":"eth_sign.js","original":{"line":34,"column":14},"generated":{"line":1,"column":605}},{"source":"eth_sign.js","name":"signerAddress","original":{"line":34,"column":15},"generated":{"line":1,"column":606}},{"source":"eth_sign.js","name":"hash","original":{"line":34,"column":30},"generated":{"line":1,"column":608}},{"source":"eth_sign.js","original":{"line":35,"column":7},"generated":{"line":1,"column":612}},{"source":"eth_sign.js","name":"err","original":{"line":35,"column":8},"generated":{"line":1,"column":621}},{"source":"eth_sign.js","name":"signerResult","original":{"line":35,"column":13},"generated":{"line":1,"column":623}},{"source":"eth_sign.js","name":"document","original":{"line":38,"column":6},"generated":{"line":1,"column":626}},{"source":"eth_sign.js","name":"body","original":{"line":38,"column":15},"generated":{"line":1,"column":635}},{"source":"eth_sign.js","name":"innerHTML","original":{"line":38,"column":20},"generated":{"line":1,"column":640}},{"source":"eth_sign.js","name":"String","original":{"line":40,"column":10},"generated":{"line":1,"column":650}},{"source":"eth_sign.js","name":"String","original":{"line":40,"column":10},"generated":{"line":1,"column":717}},{"source":"eth_sign.js","name":"String","original":{"line":40,"column":10},"generated":{"line":1,"column":724}},{"source":"eth_sign.js","name":"signerAddress","original":{"line":40,"column":17},"generated":{"line":1,"column":731}},{"source":"eth_sign.js","name":"toLowerCase","original":{"line":40,"column":32},"generated":{"line":1,"column":734}},{"source":"eth_sign.js","name":"String","original":{"line":40,"column":50},"generated":{"line":1,"column":750}},{"source":"eth_sign.js","name":"utils","original":{"line":40,"column":57},"generated":{"line":1,"column":757}},{"source":"eth_sign.js","name":"recoverAddress","original":{"line":40,"column":63},"generated":{"line":1,"column":759}},{"source":"eth_sign.js","name":"hash","original":{"line":40,"column":78},"generated":{"line":1,"column":774}},{"source":"eth_sign.js","name":"signerResult","original":{"line":40,"column":84},"generated":{"line":1,"column":776}},{"source":"eth_sign.js","name":"result","original":{"line":40,"column":97},"generated":{"line":1,"column":778}},{"source":"eth_sign.js","name":"toLowerCase","original":{"line":40,"column":106},"generated":{"line":1,"column":787}},{"source":"eth_sign.js","name":"String","original":{"line":43,"column":10},"generated":{"line":1,"column":801}},{"source":"eth_sign.js","name":"String","original":{"line":43,"column":10},"generated":{"line":1,"column":879}},{"source":"eth_sign.js","name":"String","original":{"line":43,"column":10},"generated":{"line":1,"column":886}},{"source":"eth_sign.js","name":"signerAddress","original":{"line":43,"column":17},"generated":{"line":1,"column":893}},{"source":"eth_sign.js","name":"toLowerCase","original":{"line":43,"column":32},"generated":{"line":1,"column":896}},{"source":"eth_sign.js","name":"String","original":{"line":43,"column":50},"generated":{"line":1,"column":912}},{"source":"eth_sign.js","name":"utils","original":{"line":43,"column":57},"generated":{"line":1,"column":919}},{"source":"eth_sign.js","name":"recoverAddress","original":{"line":43,"column":63},"generated":{"line":1,"column":921}},{"source":"eth_sign.js","name":"hashWithPrefix","original":{"line":43,"column":78},"generated":{"line":1,"column":936}},{"source":"eth_sign.js","name":"signerResult","original":{"line":43,"column":94},"generated":{"line":1,"column":938}},{"source":"eth_sign.js","name":"result","original":{"line":43,"column":107},"generated":{"line":1,"column":940}},{"source":"eth_sign.js","name":"toLowerCase","original":{"line":43,"column":116},"generated":{"line":1,"column":949}},{"source":"eth_sign.js","name":"String","original":{"line":46,"column":10},"generated":{"line":1,"column":963}},{"source":"eth_sign.js","name":"String","original":{"line":46,"column":10},"generated":{"line":1,"column":1039}},{"source":"eth_sign.js","name":"String","original":{"line":46,"column":10},"generated":{"line":1,"column":1046}},{"source":"eth_sign.js","name":"signerAddress","original":{"line":46,"column":17},"generated":{"line":1,"column":1053}},{"source":"eth_sign.js","name":"toLowerCase","original":{"line":46,"column":32},"generated":{"line":1,"column":1056}},{"source":"eth_sign.js","name":"String","original":{"line":46,"column":50},"generated":{"line":1,"column":1072}},{"source":"eth_sign.js","name":"utils","original":{"line":46,"column":57},"generated":{"line":1,"column":1079}},{"source":"eth_sign.js","name":"recoverAddress","original":{"line":46,"column":63},"generated":{"line":1,"column":1081}},{"source":"eth_sign.js","name":"hashWithInvalidLengthPrefix","original":{"line":46,"column":78},"generated":{"line":1,"column":1096}},{"source":"eth_sign.js","name":"signerResult","original":{"line":46,"column":107},"generated":{"line":1,"column":1098}},{"source":"eth_sign.js","name":"result","original":{"line":46,"column":120},"generated":{"line":1,"column":1100}},{"source":"eth_sign.js","name":"toLowerCase","original":{"line":46,"column":129},"generated":{"line":1,"column":1109}},{"source":"eth_sign.js","name":"String","original":{"line":49,"column":10},"generated":{"line":1,"column":1123}},{"source":"eth_sign.js","name":"String","original":{"line":49,"column":10},"generated":{"line":1,"column":1201}},{"source":"eth_sign.js","name":"String","original":{"line":49,"column":10},"generated":{"line":1,"column":1208}},{"source":"eth_sign.js","name":"signerAddress","original":{"line":49,"column":17},"generated":{"line":1,"column":1215}},{"source":"eth_sign.js","name":"toLowerCase","original":{"line":49,"column":32},"generated":{"line":1,"column":1218}},{"source":"eth_sign.js","name":"String","original":{"line":49,"column":50},"generated":{"line":1,"column":1234}},{"source":"eth_sign.js","name":"utils","original":{"line":49,"column":57},"generated":{"line":1,"column":1241}},{"source":"eth_sign.js","name":"recoverAddress","original":{"line":49,"column":63},"generated":{"line":1,"column":1243}},{"source":"eth_sign.js","name":"hashWithInvalidLength2Prefix","original":{"line":49,"column":78},"generated":{"line":1,"column":1258}},{"source":"eth_sign.js","name":"signerResult","original":{"line":49,"column":108},"generated":{"line":1,"column":1260}},{"source":"eth_sign.js","name":"result","original":{"line":49,"column":121},"generated":{"line":1,"column":1262}},{"source":"eth_sign.js","name":"toLowerCase","original":{"line":49,"column":130},"generated":{"line":1,"column":1271}},{"source":"eth_sign.js","original":{"line":35,"column":30},"generated":{"line":1,"column":1285}}],"sources":{"eth_sign.js":"const { utils } = require('ethers');\n\nconst hash = '0x87b2d4b93731813f851f44e4a8e98e8e6e3680cc98081ea0c5c4ba4f6948c5a6';\nconst hashWithPrefix = utils.keccak256(utils.solidityPack([\n  'string', 'bytes32'\n], [\n  \"\\x19Ethereum Signed Message:\\n32\", hash,\n]));\nconst hashWithInvalidLengthPrefix = utils.keccak256(utils.solidityPack([\n  'string', 'bytes32'\n], [\n  \"\\x19Ethereum Signed Message:\\n64\", hash,\n]));\nconst hashWithInvalidLength2Prefix = utils.keccak256(utils.solidityPack([\n  'string', 'bytes32'\n], [\n  \"\\x19Ethereum Signed Message:\\n66\", hash,\n]));\n\n// metamask/trust/coinbase if you have it\nif (typeof window.web3 !== \"undefined\") {\n\n  // enable eth\n  window.ethereum.enable();\n\n  // get accounts\n  web3.currentProvider.sendAsync({ method: \"eth_accounts\", params: [] }, (err, accountResult) => {\n    if (err) return console.error(err);\n\n    const signerAddress = accountResult.result[0];\n\n    web3.currentProvider.sendAsync({\n      method: \"personal_sign\",\n      params: [signerAddress, hash],\n    }, (err, signerResult) => {\n      // if (err) return console.error(err);\n\n      document.body.innerHTML = `\n        Supports Vanilla Signing (No Prefix): <br />\n        ${String(signerAddress).toLowerCase() === String(utils.recoverAddress(hash, signerResult.result)).toLowerCase()}  <br /> <br />\n\n        Supports Prefix (Byte Length): <br />\n        ${String(signerAddress).toLowerCase() === String(utils.recoverAddress(hashWithPrefix, signerResult.result)).toLowerCase()}  <br /> <br />\n\n        Supports Prefix (JS Length): <br />\n        ${String(signerAddress).toLowerCase() === String(utils.recoverAddress(hashWithInvalidLengthPrefix, signerResult.result)).toLowerCase()}  <br /> <br />\n\n        Supports Prefix (JS Length 2): <br />\n        ${String(signerAddress).toLowerCase() === String(utils.recoverAddress(hashWithInvalidLength2Prefix, signerResult.result)).toLowerCase()}  <br /> <br />\n      `;     // Append <li> to <ul> with id=\"myList\"\n    });\n  });\n\n}\n"},"lineCount":null}},"hash":"0f14ad278439695d1d60a57eb123352f","cacheData":{"env":{}}}